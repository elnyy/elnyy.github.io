<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>YouTube Play embedded videos</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;max-width:900px;margin:32px auto;padding:0 16px;color:#111}
    header{display:flex;align-items:center;justify-content:space-between}
    .embed-wrap{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:8px;margin-top:20px;border:1px solid #e6e6e6}
    .embed-wrap iframe{position:absolute;left:0;top:0;width:100%;height:100%;border:0}
    .error{color:#c00;margin-top:8px}
  </style>
</head>
<body>
  <header>
    <h1>Play embedded videos</h1>
  </header>
  <input id="input" type="text" placeholder="Enter a video ID or a URL here." style="width:300px;height:20px;"/>
    <button id="btn">embed!</button>
    <button id="clear">clear</button>
  <div id="msg"></div>
  <div id="player" class="embed-wrap" style="display:none"></div>

<script>
function extractVideoID(input){
  if(!input) return null;
  input = input.trim();
  const idCandidate = input.match(/^[a-zA-Z0-9_-]{11}$/);
  if(idCandidate) return idCandidate[0];

  const vMatch = input.match(/[?&]v=([a-zA-Z0-9_-]{11})/);
  if(vMatch) return vMatch[1];

  const shortMatch = input.match(/youtu\.be\/([a-zA-Z0-9_-]{11})/);
  if(shortMatch) return shortMatch[1];

  const embedMatch = input.match(/embed\/([a-zA-Z0-9_-]{11})/);
  if(embedMatch) return embedMatch[1];

  return null;
}

const inputEl = document.getElementById('input');
const btn = document.getElementById('btn');
const clearBtn = document.getElementById('clear');
const msg = document.getElementById('msg');
const player = document.getElementById('player');

btn.addEventListener('click', ()=>{
  const id = extractVideoID(inputEl.value);
  if(!id){
    msg.textContent = 'The video does not exist!';
    msg.className = 'error';
    player.style.display = 'none';
    player.innerHTML = '';
    return;
  }

  const src = `https://www.youtube.com/embed/${encodeURIComponent(id)}?rel=0`;
  player.innerHTML = `<iframe src="${src}" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
  player.style.display = 'block';
});

clearBtn.addEventListener('click', ()=>{
  inputEl.value = '';
  msg.textContent = '';
  player.style.display = 'none';
  player.innerHTML = '';
});

inputEl.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') btn.click(); });
</script>
</body>
</html>
